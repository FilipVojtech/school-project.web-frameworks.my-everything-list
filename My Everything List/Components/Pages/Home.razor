@page "/"
@inject NavigationManager Navigation

<PageTitle>MEL: MyEverythingList</PageTitle>

<h1>My Everything List</h1>
<p>Or just MEL for short.</p>
<p>
    And more precisely it's you everything list. Allowing you to save:
</p>
<ul>
    <li>Films</li>
    <li>Books</li>
    <li>Music</li>
</ul>
<p>Rate everything you saved for your reference and always know what your past self thought about that one movie.</p>

<p>What are you waiting for?</p>
<p><a href="/register" class="text-dark">Sign up to MEL</a> right now!</p>

@code {
    [CascadingParameter] HttpContext HttpContext { get; set; } = default!;

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();

        var isAuthenticated = HttpContext.User.Identity?.IsAuthenticated ?? false;

        if (isAuthenticated)
        {
            Navigation.NavigateTo("/films");
        }
    }

}
